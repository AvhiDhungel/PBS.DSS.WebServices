@page "/CustomerAttachment"
@page "/CustomerAttachment/{SerialNumber}/{WorkItemRef}/{AttachmentRef}"

<MudStack>
    <MudButton Variant="Variant.Outlined" Style="align-self:center; width:30%">View Your Recommendations</MudButton>
    <MudSpacer/>
    <MudAttachmentCarousel Attachments="Attachments" />
</MudStack>

@code {
    [CascadingParameter]
    private SessionInfo SessionInfo { get; set; } = new();

    [Parameter]
    public string SerialNumber { get; set; } = string.Empty;
    [Parameter]
    public string WorkItemRef { get; set; } = string.Empty;
    [Parameter]
    public string AttachmentRef { get; set; } = string.Empty;

    private List<Attachment> Attachments { get; set; } = new();

    protected override void OnParametersSet()
    {
        var attachment = new Attachment();
        attachment.Name = "Banner";
        attachment.FileType = FileTypes.Image;
        attachment.Content = Convert.FromBase64String(SessionInfo.Banner);

        Attachments.Add(attachment);
    }
}
